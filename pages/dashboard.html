<!Doctype HTML>
<html>

<head>
	<title>Patient-Dashboard</title>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

	<link rel="stylesheet" href="/css/dashboard.css" />
	<link rel="icon" type="image/x-icon" href="Ass\favicon.png">
	<script src="https://kit.fontawesome.com/bb8ca7a51b.js" crossorigin="anonymous"></script>
</head>


<body>


	<div id="mySidenav" class="sidenav">
		<p class="logo"><span>United</span>-Hospital</p>
		<button class="btn" style="background-color:inherit;border:none;" onclick="profile()"><a href="#" class="icon-a"><i class="fa fa-user icons"></i> Profile</a></button><br>
		<button class="btn" style="background-color:inherit;border:none;" onclick="gayeb()"><a href="#" class="icon-a"><i class="fa fa-calendar-check icons"></i> Appoint</a></button><br>
		<button class="btn" style="background-color:inherit;border:none;" type="button" data-toggle="modal" data-target="#mymodal"><a href="#" class="icon-a"><i class="fa fa-pills icons"></i> Drug </a></button><br>
		<button class="btn" style="background-color:inherit;border:none;"><a href="/login" class="icon-a"><i class="fa fa-sign-out icons"></i> Logout</a></button><br>

	</div>
	<div id="main">

		<div class="head">
			<div class="col-div-6">
				<span style="font-size:30px;cursor:pointer; color: #82a8e6;" class="nav">☰ </span>
				<span style="font-size:30px;cursor:pointer; color: black;" class="nav2">☰ </span>
			</div>

			<div class="col-div-6">
				<div class="profile">
					<p id="nam"><i class="fa-sharp fa-solid fa-user"></i>  Patient<span id="uname"></span></p>
				</div>
			</div>
		</div>
<div class="look" id="look">
		<div class="clearfix"><h1>Patient Dashboard</h1></div>
		<br />

		<div class="col-div-3">
			<div class="box">
				<p>PID<br /><span id="uid"></span></p>
				<i class="fa fa-hospital-user box-icon"></i>
			</div>
		</div>
		<div class="col-div-3">
			<div class="box">
				<p>Active<br /><span>Status</span></p>
				<i class="fa fa-bed-pulse box-icon"></i>
			</div>
		</div>
		<div class="col-div-3">
			<div class="box" style="display: flex;flex-direction: row;">
				<button style="background: inherit;border:none" onclick="gayeb()">
					<p>Appointment<br /><span>Book your Appointment</span></p>
				</button>
				<i class="fa fa-file-medical box-icon"></i>
			</div>
		</div>
		
		<div class="clearfix"></div>
		<br /><br />
		<div class="col-div-8">
			<div class="box-8">
				<div class="content-box">
					<heading></heading>
					<br />
					<iframe width="100%" height="250" frameborder="0" scrolling="no"
					src="//plotly.com/~ysabhishekmishra/1.embed"></iframe>
				</div>
			</div>
		</div>

		<div class="col-div-4">
			<div class="box-4">
				<div class="content-box">
					<heading>Account Statistic</heading>

					<div class="circle-wrap">
						<div class="circle">
							<div class="mask full">
								<div class="fill"></div>
							</div>
							<div class="mask half">
								<div class="fill"></div>
							</div>
							<div class="inside-circle"> 75% </div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!--Modal section of Drug-->
	<div class="modal" id="mymodal">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalCenterTitle">List Of Medicine and Time to Take</h5>
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			</div>
			<div class="modal-body">
				<table class="table">
					<thead class="thead-dark">
						<tr>
							<th scope="col">Sr.No</th>
							<th scope="col">Medicine Name</th>
							<th scope="col">Time </th>
							
						</tr>
					</thead>
					<tbody>
						<tr>
							<th scope="row">1</th>
							<td>Duclodene</td>
							<td>10AM - 3PM - 8PM</td>
						</tr>
						<tr>
							<th scope="row">2</th>
							<td>Deepran</td>
							<td>7AM - 7PM</td>
							
						</tr>
						<tr>
							<th scope="row">3</th>
							<td>Paracitamol</td>
							<td>10AM - 3PM - 8PM</td>
						</tr>
						
					</tbody>
				</table>
			</div>
			<div class="modal-footer">
			  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

			</div>
		  </div>
		</div>
	</div>


<!--Appointment Booking Code-->


	<div class="appointmentform" id="show">
		<h4><br>Book your Appointment</h4>

		<form action="http://localhost:8100/dashborad/appointment" method="POST" >
			<!-- Name input -->
			<div class="form-outline mb-2">
				<label class="form-label " for="name">Patient Name</label>
				<input type="text" id="name" name="name" placeholder="Enter your name"
					class="form-control form-control" />
				
			</div>
			<!-- Age input -->
			<div class="form-outline mb-2">
				<label class="form-label" for="age">Patient Age</label>
				<input type="text" id="age" name="age" placeholder="Enter your Age"
					class="form-control form-control" />
			</div>
			<!-- Gender input -->
			<div class="form-outline mb-2">
				<label class="form-label" for="gender">Select Gender</label><br>
				<select id="dropdown"  name="gender" class="form-control" required>
					<option disabled selected value>Select</option>
					<option value="Male">Male</option>
					<option value="Female">Female</option>
					<option value="Others">Others</option>
				</select>
			</div>

			<!-- Appointment time -->
			<div class="form-outline mb-2">
				<label class="form-label" id="date" for="date">Appointment Date</label>
				<input type="text" placeholder="Enter date" name="date" id="form1Example13" class="form-control form-control" />
			</div>

			<!-- AppointMent Time input -->
			<div class="form-outline mb-2">
				<label class="form-label" for="time">Appointment-Time</label>
				<input type="number" id="time" name="time" class="form-control form-control" />
			</div>

			<div class="form-outline mb-2">
				<label class="form-label" for="description">Describe your Helth Condition</label>
				<textarea type="text" id="description" name="description" class="form-control form-control"></textarea>
			</div>

			<!-- Submit button -->
			<button type="submit" class="btn btn-success btn-lg btn-block my-1">Submit</button>
			<button type="submit" class="btn btn-primary btn-lg btn-block my-1 ms-5" onclick="back()">back</button>

		</form>

	</div>

</div>

<!--Profile OF Patient-->

<div class="mera" id="profile">
	<div class="container p-5">
		<div class="card mb-5" style="border:none;">
		  <div class="row" style="border:none;">
			<div class="col-md-4 p-5" >
			  <img src="Ass/profile.jpg" height="300"  width="300" alt="..." class="center">
			</div>
			<div class="col-md-8">
			  <div class="card-body" >
				<h5 class="card-title"><b>Patient Information</b></h5>
					<!-- Patient Id  -->
					<div class="form-outline mb-2">
						<label class="form-labe">Patient ID:- </label><label class="form-lal" id="pid"></label>						
					</div>

					<!-- Name input -->
					<div class="form-outline mb-2">
						<label class="form-labe" id="user-label" for="email">Name Of Patient:- </label><label class="form-lal" id="pname"></label>
						
					</div>
		
					<!-- Patient Gender -->
					<div class="form-outline mb-2">
						<label class="form-labe" for="password">Patient Gender:-</label>
						<label class="form-lal" id="pgender"></label>
					</div>
					<!-- Appointment time -->
					
			   </div>
			   <button type="submit" class="btn btn-primary btn-lg btn-block my-1 ms-5" onclick="back()">back</button>
			  </div>
	</div>


	<script>
		function gayeb(){
			document.getElementById("look").style.display = "none";
			document.getElementById("show").style.display = "block";
			document.getElementById("profile").style.display = "none";
			document.getElementById("appdata").style.display = "none";
		}
		function back(){
			document.getElementById("look").style.display = "block";
			document.getElementById("show").style.display = "none";
			document.getElementById("profile").style.display = "none";
			document.getElementById("appdata").style.display = "none";
		}
		function profile(){
			document.getElementById("look").style.display = "none";
			document.getElementById("show").style.display = "none";
			document.getElementById("profile").style.display = "block";
			document.getElementById("appdata").style.display = "none";

		}
		function profile1(){
			document.getElementById("look").style.display = "none";
			document.getElementById("show").style.display = "none";
			document.getElementById("profile").style.display = "none";
			document.getElementById("appdata").style.display = "block";

		}

		var usrData = new Object()
		const url = "http://localhost:8100/dashborad/getappointment";
		fetch(url)
			.then(res => res.json())
			.then(data => {
				usrData = data;
				console.log(usrData.getapoint[0].name)
				show()
			})
			// Function to define innerHTML for HTML table
			function show() {
    		let tab = 
			`<tr>
			<th>Name</th>
			<th>age</th>
			<th>gender</th>
			<th>email</th>
			<th>date</th>
			<th>time</th>
			<th>description</th>
			</tr>`;
    
			// Loop to access all rows 
			for (let i =0; i < usrData.getapoint.length; i++) {
				tab += `<tr> 
			<td>${usrData.getapoint[i].name} </td>
			<td>${usrData.getapoint[i].age}</td>
			<td>${usrData.getapoint[i].gender}</td>
			<td>${usrData.getapoint[i].email}</td>
			<td>${usrData.getapoint[i].date}</td>
			<td>${usrData.getapoint[i].time}</td>
			<td>${usrData.getapoint[i].description}</td>
					
		</tr>`;
    	}
		// Setting innerHTML as tab variable
		document.getElementById("employees").innerHTML=tab;
		}
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

	<script>
	
		const urls = "http://localhost:8100/login/getsingle";
		fetch(urls)
			.then(res => res.json())
			.then(data => {
				userData = data;
				returnkrdo()
				username()
								
			})

			function username(){
				document.getElementById("uid").innerHTML = userData._id;
				document.getElementById("uname").innerHTML = userData.name;
				document.getElementById("uemail").innerHTML = userData.email
				document.getElementById("ugender").innerHTML = userData.gender
			}
			function returnkrdo(){
				document.getElementById("pid").innerHTML = userData._id;
				document.getElementById("pname").innerHTML = userData.name;
				document.getElementById("pgender").innerHTML = userData.gender
			}
				
			
			
	</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
crossorigin="anonymous"></script>







	<script>


		$(".nav").click(function () {
			$("#mySidenav").css('width', '100px');
			$("#main").css('margin-left', '100px');
			$(".logo").css('visibility', 'hidden');
			$(".logo span").css('visibility', 'visible');
			$(".logo span").css('margin-left', '-10px');
			$(".icon-a").css('visibility', 'hidden');
			$(".icons").css('visibility', 'visible');
			$(".icons").css('margin-left', '-8px');
			$(".nav").css('display', 'none');
			$(".nav2").css('display', 'block');
		});

		$(".nav2").click(function () {
			$("#mySidenav").css('width', '300px');
			$("#main").css('margin-left', '300px');
			$(".logo").css('visibility', 'visible');
			$(".icon-a").css('visibility', 'visible');
			$(".icons").css('visibility', 'visible');
			$(".nav").css('display', 'block');
			$(".nav2").css('display', 'none');
		});

	</script>

</body>


</html>